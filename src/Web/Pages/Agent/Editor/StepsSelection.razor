<MudCard Style="height: calc(100vh - 148px)" Class="rounded-lg d-flex justify-center flex-column">
    <MudCardHeader class="order-0">
        <CardHeaderAvatar>
            <MudIcon Icon="@Icons.Filled.Apps" />
        </CardHeaderAvatar>
        <CardHeaderContent>
            <MudText Typo="Typo.h6">Steps</MudText>
        </CardHeaderContent>
    </MudCardHeader>
    <MudCardContent style="height: calc(100% - 60px)" class="pt-0 mt-0 order-1">
        <MudTextField T="string" Label="Search" TextChanged="@OnSearchTextChanged"
                        Variant="Variant.Filled" Adornment="Adornment.End"
                        AdornmentIcon="@Icons.Material.Filled.Search" Clearable="true"
                        Immediate="true" Class="mt-0" />
        <MudSelect T ="string" Label="Category" SelectedValues="_selectedCategories"
                    SelectedValuesChanged="@OnSelectedCategoryChanged">
            @foreach (var category in _availableCategories)
            {
                <MudSelectItem T="string" value="@category.Key">
                    <MudBadge Content="@category.Value" Origin="Origin.CenterRight" Color="Color.Primary">
                        <MudText Class="mr-4">
                            @category.Key
                        </MudText>
                    </MudBadge>
                </MudSelectItem>
            }
        </MudSelect>
        <MudList Clickable="true" style="height: calc(100% - 105px)" class="overflow-auto">
            <MudListSubheader>
                Drag & drop to the automation flow
            </MudListSubheader>
            @foreach (var step in @_filteredSteps)
            {
                <MudListItem Icon="@Icons.Filled.DragIndicator" IconColor="Color.Primary" draggable="true"
                @ondragstart="(args) => OnDragStart(args, step)">
                    <MudText>@step.Name</MudText>
                </MudListItem>
            }
        </MudList>
    </MudCardContent>
</MudCard>
